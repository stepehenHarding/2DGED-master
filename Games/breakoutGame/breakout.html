<!DOCTYPE html>
<html>
    <head>
        <title>breakout</title>
        <style>
            * {padding:0; margin: 0;}
            canvas {background: rgb(59, 59, 59);display:block;margin:0auto;}
        </style>
    </head>
    <body>

        <canvas id="myCanvas" width="1080" height="720"></canvas>
        
        <script>
            var canvas = document.getElementById("myCanvas");
            var ctx = canvas.getContext("2d");
            var ballRadius = 10;
            var x = canvas.width/2;
            var y = canvas.height-30;
            var dx = 2;
            var dy = -2;
            //creates paddle
            var paddleHeight = 10;
            var paddleWidth = 75;
            var paddleX =(canvas.width-paddleWidth)/2;
            //booleans made for creating controls
            var rightPressed = false;
            var leftPressed = false;
            var paddleSpeed = 7;
            //lisens for key being pressed and released    
            document.addEventListener("keydown",keyDownHandler,false);
            document.addEventListener("keyup",keyUpHandler,false);

            // sets the booleans to true when key is pressed,let go.
            function keyDownHandler(e){
                if(e.key == "Right"||e.key =="ArrowRight"){
                    rightPressed =true;
                }
                else if(e.key =="Left"|| e.key == "ArrowLeft"){
                    leftPressed = true;
                }
            }

            function keyUpHandler(e){
                if(e.key == "Right"||e.key =="ArrowRight"){
                    rightPressed =false;
                }
                else if(e.key =="Left"||e.key =="ArrowLeft"){
                    leftPressed = false;
                }
            }

            // creates the ball
            function drawBall() {
                ctx.beginPath();
                ctx.arc(x, y, ballRadius, 0, Math.PI*2);
                ctx.fillStyle = "#eeeeee";
                ctx.fill();
                ctx.closePath();
            }

            function drawPaddle(){
                ctx.beginPath();
                ctx.rect(paddleX, canvas.height-paddleHeight,paddleWidth,paddleHeight);
                ctx.fillStyle = "#eeeeee"
                ctx.fill();
                ctx.closePath();
            }

            //clears the canvas then draws the ball
            function draw() 
            {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                drawBall();
                drawPaddle();
                if(x +dx >canvas.width-ballRadius|| x + dx <ballRadius){
                    dx = -dx;
                }
                if(y+dy<ballRadius){
                    dy=-dy;
                }
                else if(y+dy>canvas.height-ballRadius)
                {
                    if(x>paddleX && x< paddleX +paddleWidth)
                    {
                        dy=-dy;
                    }
                    else
                    {
                        alert("GAME OVER");
                        document.location.reload();
                        clearInterval(interval);
                    }
                }
                
                //moves paddle left and right
                if(rightPressed&& paddleX<canvas.width-paddleWidth)
                {
                    paddleX+=7;
                }
                else if(leftPressed&& paddleX>0)
                {
                    paddleX-=7;
                }
                
                x += dx;
                y += dy;

            }
        
            //calls the draw dunction every 10 millisecounds    
            var interval =setInterval(draw, 10);
        </script>
        
    </body>
</html>